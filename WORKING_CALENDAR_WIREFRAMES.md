# Working Calendar - Detailed Wireframes & UI Flow

## ğŸ¨ Complete User Journey

### Flow Overview
```
[Sidebar Menu] â†’ [Calendar Page] â†’ [Click Date] â†’ [Staff Config Modal] â†’ [Save] â†’ [Real-time Update]
     â†“
[Settings Modal] â†’ [Working Calendar Tab] â†’ [Morning Shift Config] â†’ [Save]
```

---

## ğŸ“± Screen 1: Sidebar Navigation

**Current State** (before implementation):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SHIFT SCHEDULE MANAGER  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚
â”‚ ğŸ“… Schedule             â”‚  â† Current active
â”‚ ğŸ“Š Monitor              â”‚
â”‚ ğŸ“† Calendar             â”‚  â† INACTIVE (grayed out)
â”‚ ğŸ“‹ Menu                 â”‚
â”‚ âš ï¸  Alergi              â”‚
â”‚ ğŸ“ˆ Research             â”‚
â”‚ âš™ï¸  Settings            â”‚
â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**After Implementation**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SHIFT SCHEDULE MANAGER  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚
â”‚ ğŸ“… Schedule             â”‚
â”‚ ğŸ“Š Monitor              â”‚
â”‚ ğŸ“† Calendar             â”‚  â† ACTIVE (clickable, routes to /working-calendar)
â”‚ ğŸ“‹ Menu                 â”‚
â”‚ âš ï¸  Alergi              â”‚
â”‚ ğŸ“ˆ Research             â”‚
â”‚ âš™ï¸  Settings            â”‚
â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“… Screen 2: Working Calendar Page (Main View)

### Desktop Layout (1280px+)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ  Home > ğŸ“† Working Calendar                                    [âš™ï¸ Settings]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  å‡ºå‹¤ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ (Working Calendar)                                                     â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  [ â† å‰æœˆ ]           2025å¹´ 1æœˆ (January)              [ æ¬¡æœˆ â†’ ]          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                                              â”‚ â”‚
â”‚  â”‚   æ—¥      æœˆ      ç«      æ°´      æœ¨      é‡‘      åœŸ                          â”‚ â”‚
â”‚  â”‚  Sun    Mon     Tue     Wed     Thu     Fri     Sat                         â”‚ â”‚
â”‚  â”‚                                                                              â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”                               â”‚ â”‚
â”‚  â”‚ â”‚ 29  â”‚ 30  â”‚ 31  â”‚  1  â”‚  2  â”‚  3  â”‚  4  â”‚  Week 1                       â”‚ â”‚
â”‚  â”‚ â”‚     â”‚     â”‚     â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚                               â”‚ â”‚
â”‚  â”‚ â”‚ prevâ”‚ prevâ”‚ prevâ”‚  5  â”‚  4  â”‚  6  â”‚  3  â”‚  â† Staff count with day off   â”‚ â”‚
â”‚  â”‚ â”‚monthâ”‚monthâ”‚monthâ”‚staffâ”‚staffâ”‚staffâ”‚staffâ”‚     rules configured          â”‚ â”‚
â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤                               â”‚ â”‚
â”‚  â”‚ â”‚  5  â”‚  6  â”‚  7  â”‚  8  â”‚  9  â”‚ 10  â”‚ 11  â”‚  Week 2                       â”‚ â”‚
â”‚  â”‚ â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚                               â”‚ â”‚
â”‚  â”‚ â”‚  2  â”‚  5  â”‚  6  â”‚  5  â”‚  5  â”‚  4  â”‚  2  â”‚                               â”‚ â”‚
â”‚  â”‚ â”‚staffâ”‚staffâ”‚staffâ”‚staffâ”‚staffâ”‚staffâ”‚staffâ”‚                               â”‚ â”‚
â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤                               â”‚ â”‚
â”‚  â”‚ â”‚ 12  â”‚ 13  â”‚ 14  â”‚ 15  â”‚ 16  â”‚ 17  â”‚ 18  â”‚  Week 3                       â”‚ â”‚
â”‚  â”‚ â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚                               â”‚ â”‚
â”‚  â”‚ â”‚  3  â”‚  0  â”‚  1  â”‚  7  â”‚  2  â”‚  4  â”‚  1  â”‚  â† Click any date to         â”‚ â”‚
â”‚  â”‚ â”‚staffâ”‚     â”‚staffâ”‚staffâ”‚staffâ”‚staffâ”‚staffâ”‚     configure                 â”‚ â”‚
â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤                               â”‚ â”‚
â”‚  â”‚ â”‚ 19  â”‚ 20  â”‚ 21  â”‚ 22  â”‚ 23  â”‚ 24  â”‚ 25  â”‚  Week 4                       â”‚ â”‚
â”‚  â”‚ â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚                               â”‚ â”‚
â”‚  â”‚ â”‚  4  â”‚  6  â”‚  3  â”‚  2  â”‚  5  â”‚  8  â”‚  1  â”‚                               â”‚ â”‚
â”‚  â”‚ â”‚staffâ”‚staffâ”‚staffâ”‚staffâ”‚staffâ”‚staffâ”‚staffâ”‚                               â”‚ â”‚
â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤                               â”‚ â”‚
â”‚  â”‚ â”‚ 26  â”‚ 27  â”‚ 28  â”‚ 29  â”‚ 30  â”‚ 31  â”‚  1  â”‚  Week 5                       â”‚ â”‚
â”‚  â”‚ â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚next â”‚                               â”‚ â”‚
â”‚  â”‚ â”‚  2  â”‚  5  â”‚  4  â”‚  3  â”‚  6  â”‚  2  â”‚monthâ”‚                               â”‚ â”‚
â”‚  â”‚ â”‚staffâ”‚staffâ”‚staffâ”‚staffâ”‚staffâ”‚staffâ”‚     â”‚                               â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜                               â”‚ â”‚
â”‚  â”‚                                                                              â”‚ â”‚
â”‚  â”‚  â„¹ï¸ æ—¥ä»˜ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚¹ã‚¿ãƒƒãƒ•ã®ä¼‘æ—¥ã‚’è¨­å®š                                              â”‚ â”‚
â”‚  â”‚     (Click date to configure staff day-off settings)                        â”‚ â”‚
â”‚  â”‚                                                                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                     â”‚
â”‚  Legend:                                                                            â”‚
â”‚  ğŸ‘¥ X staff - Number of staff with day-off rules configured for this date          â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Mobile Layout (< 768px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜°  å‡ºå‹¤ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼          âš™ï¸     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                   â”‚
â”‚ [ â† ]   2025å¹´ 1æœˆ    [ â†’ ]      â”‚
â”‚                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ—¥  æœˆ  ç«  æ°´  æœ¨  é‡‘  åœŸ    â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ 29  30  31   1   2   3   4   â”‚ â”‚
â”‚ â”‚                 ğŸ‘¥  ğŸ‘¥  ğŸ‘¥  ğŸ‘¥â”‚ â”‚
â”‚ â”‚                 5   4   6   3 â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚  5   6   7   8   9  10  11   â”‚ â”‚
â”‚ â”‚ ğŸ‘¥  ğŸ‘¥  ğŸ‘¥  ğŸ‘¥  ğŸ‘¥  ğŸ‘¥  ğŸ‘¥  â”‚ â”‚
â”‚ â”‚  2   5   6   5   5   4   2   â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ 12  13  14  15  16  17  18   â”‚ â”‚
â”‚ â”‚ ğŸ‘¥      ğŸ‘¥  ğŸ‘¥  ğŸ‘¥  ğŸ‘¥  ğŸ‘¥  â”‚ â”‚
â”‚ â”‚  3       1   7   2   4   1   â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ 19  20  21  22  23  24  25   â”‚ â”‚
â”‚ â”‚ ğŸ‘¥  ğŸ‘¥  ğŸ‘¥  ğŸ‘¥  ğŸ‘¥  ğŸ‘¥  ğŸ‘¥  â”‚ â”‚
â”‚ â”‚  4   6   3   2   5   8   1   â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ 26  27  28  29  30  31   1   â”‚ â”‚
â”‚ â”‚ ğŸ‘¥  ğŸ‘¥  ğŸ‘¥  ğŸ‘¥  ğŸ‘¥  ğŸ‘¥      â”‚ â”‚
â”‚ â”‚  2   5   4   3   6   2       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                   â”‚
â”‚ Tap date to configure             â”‚
â”‚                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Note: Cells are 60px Ã— 60px minimum
for comfortable touch targets
```

---

## ğŸ¯ Screen 3: Date Configuration Modal (Opens on Click)

### User clicks "15" (January 15, 2025)

**Desktop Modal (600px width)**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Configure: 2025å¹´1æœˆ15æ—¥ (æ°´)                        [ Ã— ]  â”‚
â”‚  (Wednesday, January 15, 2025)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  ã‚¹ã‚¿ãƒƒãƒ•ã®ä¼‘æ—¥è¨­å®š (Staff Day-Off Configuration)             â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Search: [___________________] ğŸ”                      â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  â˜‘ äº•å²¡ å‹‡äºº (ç¤¾å“¡ - æ–™ç†é•·)            Ã— ä¼‘ã¿       â”‚ â”‚
â”‚  â”‚     â†‘ checkbox    â†‘ name   â†‘ status  â†‘ shift       â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  â˜ å®‰äº• å¥å¤ª (æ´¾é£ - èª¿ç†è£œåŠ©)          â—‹ å‡ºå‹¤       â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  â˜‘ ã‚«ãƒãƒ« (ç¤¾å“¡ - ã‚·ã‚§ãƒ•)              Ã— ä¼‘ã¿       â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  â˜ ä¸­ç”° ç¾å’² (ãƒ‘ãƒ¼ãƒˆ - ãƒ›ãƒ¼ãƒ«)          â—‹ å‡ºå‹¤       â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  â˜‘ é»’ç”° æ‹“ä¹Ÿ (ç¤¾å“¡ - èª¿ç†)             Ã— ä¼‘ã¿       â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  â˜ å²¸ å„ªå­ (æ´¾é£ - æ´—ã„å ´)             â—‹ å‡ºå‹¤       â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  â˜‘ å¤è—¤ ç›´æ¨¹ (ç¤¾å“¡ - å‰¯æ–™ç†é•·)          Ã— ä¼‘ã¿       â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  â˜ ç”°è¾º ã•ãã‚‰ (ãƒ‘ãƒ¼ãƒˆ - ãƒ›ãƒ¼ãƒ«)         â—‹ å‡ºå‹¤       â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚                                    â†“ scroll if needed â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  Bulk Actions:                                               â”‚
â”‚  [ ã™ã¹ã¦é¸æŠ ]  [ ã™ã¹ã¦è§£é™¤ ]                               â”‚
â”‚  (Select All)     (Clear All)                                â”‚
â”‚                                                              â”‚
â”‚  Rule Type:                                                  â”‚
â”‚  â¦¿ ä¼‘æ—¥ (Day Off) - Strict enforcement (unless â–³ exists)    â”‚
â”‚  â—‹ ã‚·ãƒ•ãƒˆå›é¿ (Avoid Shift) - Reduce probability only       â”‚
â”‚                                                              â”‚
â”‚  Selected: 4 staff members                                   â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              [ ã‚­ãƒ£ãƒ³ã‚»ãƒ« ]  [ ä¿å­˜ ]        â”‚
â”‚                                (Cancel)      (Save)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Interaction:
1. Click checkbox to toggle staff selection
2. Click staff row to toggle checkbox
3. Search filters list in real-time
4. Select All/Clear All buttons for bulk operations
5. Rule type radio buttons select enforcement level
6. Save button creates/updates rules in database
7. Real-time WebSocket broadcast to other clients
```

**Mobile Modal (Full Screen Bottom Sheet)**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ â† ]  2025å¹´1æœˆ15æ—¥ (æ°´)  [âœ“ä¿å­˜]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                   â”‚
â”‚ Search: [_______________] ğŸ”     â”‚
â”‚                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â˜‘ äº•å²¡ å‹‡äºº                   â”‚ â”‚
â”‚ â”‚   ç¤¾å“¡ - æ–™ç†é•·      Ã— ä¼‘ã¿   â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ â˜ å®‰äº• å¥å¤ª                   â”‚ â”‚
â”‚ â”‚   æ´¾é£ - èª¿ç†è£œåŠ©    â—‹ å‡ºå‹¤   â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ â˜‘ ã‚«ãƒãƒ«                      â”‚ â”‚
â”‚ â”‚   ç¤¾å“¡ - ã‚·ã‚§ãƒ•      Ã— ä¼‘ã¿   â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ â˜ ä¸­ç”° ç¾å’²                   â”‚ â”‚
â”‚ â”‚   ãƒ‘ãƒ¼ãƒˆ - ãƒ›ãƒ¼ãƒ«    â—‹ å‡ºå‹¤   â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ â˜‘ é»’ç”° æ‹“ä¹Ÿ                   â”‚ â”‚
â”‚ â”‚   ç¤¾å“¡ - èª¿ç†       Ã— ä¼‘ã¿   â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚     ... scroll for more ...   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                   â”‚
â”‚ [ ã™ã¹ã¦é¸æŠ ] [ ã™ã¹ã¦è§£é™¤ ]     â”‚
â”‚                                   â”‚
â”‚ Rule Type:                        â”‚
â”‚ â¦¿ ä¼‘æ—¥ (Day Off)                 â”‚
â”‚ â—‹ ã‚·ãƒ•ãƒˆå›é¿ (Avoid Shift)        â”‚
â”‚                                   â”‚
â”‚ Selected: 4 staff                 â”‚
â”‚                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Note: Swipe down to close
      Tap outside to close
```

---

## âš™ï¸ Screen 4: Settings Modal - Working Calendar Tab

**Opens from Settings button (top-right) or Sidebar Settings menu**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¨­å®š (Settings)                                                    [ Ã— ]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [ ğŸ‘¥ Staff Groups ] [ ğŸ“… Weekly Limits ] [ â­ Priority Rules ]     â”‚  â”‚
â”‚  â”‚                                                                     â”‚  â”‚
â”‚  â”‚ [ ğŸ¤– ML Parameters ] [ ğŸ“† Working Calendar ] â† NEW TAB             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                            â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â”‚
â”‚  â•‘ ğŸ“† Working Calendar Settings                                        â•‘ â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚                                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ æ—©ç•ª (â–³) è³‡æ ¼è¨­å®š                                                   â”‚   â”‚
â”‚  â”‚ Morning Shift Eligibility Configuration                           â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â”‚  ã‚¹ã‚¿ãƒƒãƒ•ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥ã®æ—©ç•ªè¨±å¯è¨­å®š                                â”‚   â”‚
â”‚  â”‚  (Morning shift eligibility by staff status)                      â”‚   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚                                                              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â˜‘ ç¤¾å“¡ (Regular Employee)                                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚     æ—©ç•ªã‚·ãƒ•ãƒˆ (â–³) ã‚’æ‹…å½“ã§ãã¾ã™                            â”‚ â”‚   â”‚
â”‚  â”‚  â”‚     Can work morning shifts                                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â˜ æ´¾é£ (Temporary Staff)                                   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚     æ—©ç•ªã‚·ãƒ•ãƒˆ (â–³) ã‚’æ‹…å½“ã§ãã¾ã›ã‚“                          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚     Cannot work morning shifts                               â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â˜ ãƒ‘ãƒ¼ãƒˆ (Part-time Staff)                                 â”‚ â”‚   â”‚
â”‚  â”‚  â”‚     æ—©ç•ªã‚·ãƒ•ãƒˆ (â–³) ã‚’æ‹…å½“ã§ãã¾ã›ã‚“                          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚     Cannot work morning shifts                               â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                              â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â”‚  â„¹ï¸ Note: This affects AI schedule generation.                    â”‚   â”‚
â”‚  â”‚     Staff with unchecked status will never receive â–³ shifts.      â”‚   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ å„ªå…ˆé †ä½ãƒ«ãƒ¼ãƒ«                                                     â”‚   â”‚
â”‚  â”‚ Priority Rules                                                     â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â”‚  âœ“ æ—©ç•ªã‚·ãƒ•ãƒˆ (â–³) ã¯ ä¼‘æ—¥ (Ã—) ã‚ˆã‚Šå„ªå…ˆã•ã‚Œã¾ã™                   â”‚   â”‚
â”‚  â”‚    Morning shift (â–³) overrides day-off (Ã—) rules                  â”‚   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â”‚  âœ“ ä¼‘æ—¥ãƒ«ãƒ¼ãƒ«ã¯ AI ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç”Ÿæˆæ™‚ã«é©ç”¨ã•ã‚Œã¾ã™               â”‚   â”‚
â”‚  â”‚    Day-off rules apply during AI schedule generation              â”‚   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â”‚  âœ“ å›é¿ãƒ«ãƒ¼ãƒ«ã¯ç¢ºç‡ã‚’æ¸›ã‚‰ã—ã¾ã™ãŒã€å¿…è¦ã«å¿œã˜ã¦å‰²ã‚Šå½“ã¦å¯èƒ½ã§ã™    â”‚   â”‚
â”‚  â”‚    Avoid-shift rules reduce probability but allow if needed       â”‚   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                           [ ã‚­ãƒ£ãƒ³ã‚»ãƒ« ]  [ ä¿å­˜ ]         â”‚
â”‚                                              (Cancel)      (Save)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Interaction:
1. Toggle checkboxes to enable/disable morning shift by status
2. Changes save to ConfigurationService (localStorage + Supabase)
3. WebSocket broadcasts settings update to all clients
4. Affects ScheduleGenerator.isEligibleForEarlyShift() logic
```

---

## ğŸ”„ Screen 5: Real-time Update Notification

**When another user updates calendar (WebSocket event)**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                            â”‚
â”‚  ğŸ”” å‡ºå‹¤ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸ                          â”‚
â”‚     Working calendar was updated                           â”‚
â”‚                                                            â”‚
â”‚  2025å¹´1æœˆ15æ—¥ - 3 staff day-off rules added               â”‚
â”‚  By: äº•å²¡ å‹‡äºº (Admin)                                     â”‚
â”‚  Just now                                                  â”‚
â”‚                                                            â”‚
â”‚  [ æ›´æ–°ã‚’è¡¨ç¤º (View Update) ]       [ Ã— é–‰ã˜ã‚‹ (Dismiss) ]â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Toast notification in top-right corner
Auto-dismiss after 5 seconds
Click to refresh calendar view
```

---

## ğŸ“Š Screen 6: Calendar with Rules Applied (Visual Indicators)

**Enhanced calendar view showing which dates have rules**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‡ºå‹¤ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼                                                             â”‚
â”‚                                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  [ â† å‰æœˆ ]           2025å¹´ 1æœˆ              [ æ¬¡æœˆ â†’ ]         â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚   æ—¥      æœˆ      ç«      æ°´      æœ¨      é‡‘      åœŸ              â”‚   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”                     â”‚   â”‚
â”‚  â”‚ â”‚  1  â”‚  2  â”‚  3  â”‚  4  â”‚  5  â”‚  6  â”‚  7  â”‚                     â”‚   â”‚
â”‚  â”‚ â”‚ ğŸ‘¥  â”‚ ğŸ‘¥â­â”‚ ğŸ‘¥  â”‚ ğŸ‘¥  â”‚     â”‚ ğŸ‘¥â­â”‚ ğŸ‘¥  â”‚  â† â­ = High rules  â”‚   â”‚
â”‚  â”‚ â”‚  5  â”‚  8  â”‚  4  â”‚  3  â”‚     â”‚  9  â”‚  2  â”‚                     â”‚   â”‚
â”‚  â”‚ â”‚     â”‚âš ï¸3  â”‚     â”‚     â”‚     â”‚âš ï¸5  â”‚     â”‚  âš ï¸ = Rule count    â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜                     â”‚   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â”‚  Hover on âš ï¸ to see tooltip:                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚   â”‚
â”‚  â”‚  â”‚ 3 staff with day-off rules:  â”‚                                 â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ äº•å²¡ å‹‡äºº                   â”‚                                 â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ ã‚«ãƒãƒ«                      â”‚                                 â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ é»’ç”° æ‹“ä¹Ÿ                   â”‚                                 â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                            â”‚
â”‚  Legend:                                                                   â”‚
â”‚  ğŸ‘¥ X - Number of staff with rules                                        â”‚
â”‚  â­ - High volume (5+ staff)                                              â”‚
â”‚  âš ï¸ X - Click to see details                                              â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ Color Coding & Visual Design

### Calendar Cell States

```
Regular Date (no rules):
â”Œâ”€â”€â”€â”€â”€â”
â”‚  15 â”‚  â† Black text on white
â”‚     â”‚     Clean, minimal
â””â”€â”€â”€â”€â”€â”˜

Date with Rules:
â”Œâ”€â”€â”€â”€â”€â”
â”‚  15 â”‚  â† Black text
â”‚ ğŸ‘¥  â”‚  â† Badge icon
â”‚  5  â”‚  â† Blue text (clickable)
â””â”€â”€â”€â”€â”€â”˜

Date with Many Rules (5+):
â”Œâ”€â”€â”€â”€â”€â”
â”‚  15 â”‚  â† Black text
â”‚ ğŸ‘¥â­â”‚  â† Badge + star
â”‚ âš ï¸8 â”‚  â† Orange text (important)
â””â”€â”€â”€â”€â”€â”˜

Today's Date:
â”Œâ”€â”€â”€â”€â”€â”
â”‚  15 â”‚  â† White text on blue
â”‚ ğŸ‘¥  â”‚  â† Highlighted background
â”‚  3  â”‚  â† Border: 2px solid
â””â”€â”€â”€â”€â”€â”˜

Previous/Next Month Date:
â”Œâ”€â”€â”€â”€â”€â”
â”‚  29 â”‚  â† Gray text (#999)
â”‚     â”‚     Muted appearance
â””â”€â”€â”€â”€â”€â”˜
```

### Modal Visual Hierarchy

```
Header:       #1F2937 (Dark gray)
Body Text:    #374151 (Medium gray)
Accent:       #3B82F6 (Blue for selected)
Border:       #E5E7EB (Light gray)
Background:   #FFFFFF (White)
Hover:        #F3F4F6 (Light gray)
```

---

## ğŸ¯ Interaction States & Animations

### Calendar Date Click

```
State 1: Default
â”Œâ”€â”€â”€â”€â”€â”
â”‚  15 â”‚
â”‚ ğŸ‘¥  â”‚
â”‚  5  â”‚
â””â”€â”€â”€â”€â”€â”˜

State 2: Hover
â”Œâ”€â”€â”€â”€â”€â”  â† Background: #F3F4F6
â”‚  15 â”‚  â† Cursor: pointer
â”‚ ğŸ‘¥  â”‚  â† Shadow: 0 2px 4px rgba(0,0,0,0.1)
â”‚  5  â”‚
â””â”€â”€â”€â”€â”€â”˜

State 3: Click (300ms animation)
â”Œâ”€â”€â”€â”€â”€â”  â† Transform: scale(0.95)
â”‚  15 â”‚  â† Opacity: 0.8
â”‚ ğŸ‘¥  â”‚  â†’ Opens modal
â”‚  5  â”‚
â””â”€â”€â”€â”€â”€â”˜
```

### Modal Open Animation

```
Frame 1 (0ms):     Frame 2 (100ms):    Frame 3 (200ms):
Opacity: 0         Opacity: 0.5        Opacity: 1
Scale: 0.9         Scale: 0.95         Scale: 1
Y: 20px            Y: 10px             Y: 0px
```

### Checkbox Toggle

```
Unchecked:         Checked:
â”Œâ”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”
â”‚     â”‚            â”‚  âœ“  â”‚  â† Checkmark appears
â””â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”˜  â† Background: #3B82F6

Animation: 150ms ease-in-out
```

---

## ğŸ“± Responsive Breakpoints

### Desktop (â‰¥1280px)
- Full calendar grid: 7 columns Ã— 5-6 rows
- Modal: 600px width, centered
- Date cells: 80px Ã— 80px

### Tablet (768px - 1279px)
- Full calendar grid: 7 columns Ã— 5-6 rows
- Modal: 90% width, centered
- Date cells: 60px Ã— 60px

### Mobile (< 768px)
- Full calendar grid: 7 columns Ã— 5-6 rows
- Modal: Full screen bottom sheet
- Date cells: 48px Ã— 48px (touch-friendly)

---

## â™¿ Accessibility Features

### Keyboard Navigation

```
Tab:           Navigate between dates
Enter/Space:   Open modal for selected date
Escape:        Close modal
Arrow Keys:    Navigate calendar grid
             (Up/Down/Left/Right)
```

### Screen Reader Labels

```
<div
  role="button"
  aria-label="2025å¹´1æœˆ15æ—¥, 5åã®ã‚¹ã‚¿ãƒƒãƒ•ãŒä¼‘æ—¥è¨­å®šæ¸ˆã¿"
  aria-describedby="date-cell-15"
  tabindex="0"
>
  15
  ğŸ‘¥ 5
</div>

Announces:
"January 15, 2025, 5 staff members have day-off rules configured.
 Click to edit."
```

### Focus Indicators

```
Focused Date Cell:
â”Œâ”€â”€â”€â”€â”€â”
â”‚  15 â”‚  â† Border: 3px solid #3B82F6
â”‚ ğŸ‘¥  â”‚  â† High contrast outline
â”‚  5  â”‚
â””â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”” User Feedback & Notifications

### Success Toast
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ ä¿å­˜ã•ã‚Œã¾ã—ãŸ                 â”‚
â”‚   Day-off rules saved for 4      â”‚
â”‚   staff members on Jan 15        â”‚
â”‚                           [ OK ] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Error Toast
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ— ã‚¨ãƒ©ãƒ¼                         â”‚
â”‚   Failed to save rules.          â”‚
â”‚   Please try again.              â”‚
â”‚                           [ OK ] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Loading State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Configure: 2025å¹´1æœˆ15æ—¥        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  â”‚
â”‚     âŸ³ Loading staff list...     â”‚
â”‚                                  â”‚
â”‚     (Spinner animation)          â”‚
â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow & State Management

### Component Hierarchy

```
WorkingCalendarPage (Main Container)
â”œâ”€â”€ CalendarHeader
â”‚   â”œâ”€â”€ MonthNavigation (â† Prev / Next â†’)
â”‚   â””â”€â”€ SettingsButton (âš™ï¸)
â”œâ”€â”€ CalendarGrid
â”‚   â”œâ”€â”€ CalendarCell (Ã—31-35 cells)
â”‚   â”‚   â”œâ”€â”€ DateNumber
â”‚   â”‚   â”œâ”€â”€ StaffCountBadge (ğŸ‘¥ X)
â”‚   â”‚   â””â”€â”€ RuleIndicator (âš ï¸)
â”‚   â””â”€â”€ CalendarLegend
â”œâ”€â”€ DateConfigModal (Conditional render)
â”‚   â”œâ”€â”€ ModalHeader
â”‚   â”œâ”€â”€ StaffSearchInput
â”‚   â”œâ”€â”€ StaffCheckboxList
â”‚   â”‚   â””â”€â”€ StaffCheckboxItem (Ã—N staff)
â”‚   â”œâ”€â”€ BulkActionButtons
â”‚   â”œâ”€â”€ RuleTypeSelector
â”‚   â””â”€â”€ ModalActions (Cancel/Save)
â””â”€â”€ SettingsModal (Conditional render)
    â””â”€â”€ WorkingCalendarTab
        â”œâ”€â”€ MorningShiftEligibility
        â””â”€â”€ PriorityRulesInfo
```

### WebSocket Event Flow

```
User Action: Click Save in DateConfigModal
     â†“
1. Local State Update
   â†“
2. POST /api/working-calendar/rules
   â†“
3. Supabase Insert/Update
   â†“
4. WebSocket Broadcast
   â†“
5. All Connected Clients Receive Event
   â†“
6. Calendar UI Updates Real-time
   â†“
7. Success Toast Notification
```

### State Structure

```javascript
// Calendar State
{
  currentMonth: '2025-01',
  selectedDate: '2025-01-15',
  rules: {
    '2025-01-15': [
      {
        staffId: 'staff_1',
        staffName: 'äº•å²¡ å‹‡äºº',
        ruleType: 'DAY_OFF',
        createdAt: '2025-01-10T10:00:00Z'
      },
      // ... more rules
    ],
    // ... more dates
  },
  loading: false,
  error: null
}

// Modal State
{
  isOpen: false,
  selectedStaffIds: ['staff_1', 'staff_3'],
  ruleType: 'DAY_OFF',
  searchQuery: '',
  saving: false
}

// Settings State
{
  morningShiftEligibility: {
    'ç¤¾å“¡': true,
    'æ´¾é£': false,
    'ãƒ‘ãƒ¼ãƒˆ': false
  }
}
```

---

## ğŸ§ª Testing Scenarios

### Unit Tests

```
âœ“ Calendar renders correct number of days for month
âœ“ Calendar highlights today's date
âœ“ Calendar shows previous/next month dates in gray
âœ“ Date click opens configuration modal
âœ“ Staff checkbox toggle updates selection
âœ“ Search filters staff list correctly
âœ“ Select All button checks all staff
âœ“ Clear All button unchecks all staff
âœ“ Save button validates and saves rules
âœ“ Cancel button closes modal without saving
```

### Integration Tests

```
âœ“ Opening modal loads existing rules for date
âœ“ Saving rules updates calendar UI immediately
âœ“ WebSocket broadcasts rule changes to other clients
âœ“ Other clients receive and display updated rules
âœ“ Settings changes affect schedule generation
âœ“ Morning shift eligibility filters staff correctly
```

### E2E Tests (Chrome MCP)

```
âœ“ User navigates to Working Calendar page
âœ“ User clicks date to open configuration modal
âœ“ User searches for staff member
âœ“ User selects multiple staff members
âœ“ User saves day-off rules
âœ“ Calendar shows updated staff count
âœ“ Other user sees real-time update notification
âœ“ Settings page updates morning shift eligibility
âœ“ AI schedule generation respects rules
```

---

## ğŸš€ Performance Optimization

### Lazy Loading Strategy

```javascript
// Lazy load calendar components
const WorkingCalendarPage = lazy(() =>
  import('./pages/WorkingCalendarPage')
);

const DateConfigModal = lazy(() =>
  import('./components/DateConfigModal')
);
```

### Caching Strategy

```javascript
// React Query caching for rules
useQuery({
  queryKey: ['workingCalendarRules', month],
  queryFn: () => fetchRulesForMonth(month),
  staleTime: 5 * 60 * 1000, // 5 minutes
  cacheTime: 30 * 60 * 1000, // 30 minutes
});
```

### WebSocket Message Batching

```javascript
// Batch multiple rule updates into single message
const batchRuleUpdates = (rules) => {
  return {
    type: 'WORKING_CALENDAR_BULK_UPDATE',
    payload: {
      date: '2025-01-15',
      rules: rules, // Array of rule objects
      timestamp: Date.now()
    }
  };
};
```

---

## ğŸ“‹ Implementation Checklist

### Phase 1: Core Calendar UI
- [ ] Create WorkingCalendarPage component
- [ ] Implement CalendarGrid with date cells
- [ ] Add month navigation (prev/next)
- [ ] Style calendar with Tailwind CSS
- [ ] Add responsive mobile layout
- [ ] Implement accessibility features

### Phase 2: Modal & Staff Selection
- [ ] Create DateConfigModal component
- [ ] Implement staff checkbox list
- [ ] Add search/filter functionality
- [ ] Implement bulk select/deselect
- [ ] Add rule type selector (Day Off / Avoid Shift)
- [ ] Style modal for desktop and mobile

### Phase 3: Data Layer
- [ ] Create WorkingCalendarService
- [ ] Implement Supabase CRUD operations
- [ ] Add React Query hooks
- [ ] Create WebSocket event handlers
- [ ] Implement real-time synchronization

### Phase 4: Settings Integration
- [ ] Add Working Calendar tab to Settings modal
- [ ] Implement morning shift eligibility settings
- [ ] Save settings to ConfigurationService
- [ ] Update ScheduleGenerator logic
- [ ] Test settings impact on AI generation

### Phase 5: Integration & Testing
- [ ] Integrate with existing schedule system
- [ ] Add route to App.js
- [ ] Enable Calendar menu item in sidebar
- [ ] Write unit tests
- [ ] Write integration tests
- [ ] Write E2E tests with Chrome MCP

### Phase 6: Polish & Optimization
- [ ] Add loading states and spinners
- [ ] Implement error handling
- [ ] Add success/error toast notifications
- [ ] Optimize WebSocket message size
- [ ] Add calendar print/export functionality
- [ ] Performance testing and optimization

---

**This wireframe document provides complete UI/UX guidance for implementation. All interactions, states, and responsive behaviors are specified.**

## ğŸ“š Related Documentation

- `/Users/kamalashidiq/Documents/Apps/shift-schedule-manager/WORKING_CALENDAR_SPEC.md` - Technical specification
- `/Users/kamalashidiq/Documents/Apps/shift-schedule-manager/WORKING_CALENDAR_IMPLEMENTATION_PLAN.md` - Implementation plan
- `/Users/kamalashidiq/Documents/Apps/shift-schedule-manager/CLAUDE.md` - Project guidelines
