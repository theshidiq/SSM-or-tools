{
  "permissions": {
    "allow": [
      "Bash(BashOutput 48c548)",
      "Bash(REACT_APP_SUPABASE_URL=https://ymdyejrljmvajqjbejvh.supabase.co REACT_APP_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InltZHllanJsam12YWpxamJlanZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI3MjE1NDMsImV4cCI6MjA2ODI5NzU0M30.wFirIfjnpkgRqDhECW6XZKkzWg_Q-pvs7jX_FIAMYfE node /tmp/check_period_dates.js)",
      "Bash(npx @anthropic-ai/claude-code:*)",
      "Bash(git push origin main)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nFIX: Resolve stale closure preventing header auto-hide\n\nFixes critical bug where header would not hide despite correct scroll \nand mouse detection logic due to stale closure in handleTableScroll.\n\nRoot Cause:\n- handleTableScroll callback had closure over isMouseOverTable state\n- Callback captured initial `false` value when created\n- Even after mouse entered and state became `true`, callback still saw old `false`\n- Early return on line 527 always executed, preventing header hide\n\nSolution:\n1. Use dataset attribute on ref instead of state dependency\n   - tableContainerRef.current.dataset.mouseOver = ''true''\n   - Refs always provide current values, bypassing closure problem\n   \n2. Update mouse handlers to set/clear dataset attribute\n   - handleTableMouseEnter: Sets dataset.mouseOver = ''true''\n   - handleTableMouseLeave: Deletes dataset.mouseOver\n   \n3. Move mouse detection wrapper closer to table\n   - Moved from outer div (contained skeleton + table) to table-specific wrapper\n   - Tighter detection area for more accurate behavior\n\nTechnical Details:\n- Removed isMouseOverTable from handleTableScroll dependencies\n- Dataset attributes are synchronous and immediately readable\n- No more stale closures - callback created once with empty deps array\n- Mouse detection now wraps only ScheduleTable component\n\nVerified Fix:\nâœ… Header hides when scrolling down 50px+ with cursor on table\nâœ… Header shows when scrolling up 20px+ \nâœ… Auto-shows after 1 second of no scrolling\nâœ… Shows immediately when cursor leaves table\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  },
  "enableAllProjectMcpServers": true,
  "enabledMcpjsonServers": [
    "shadcn"
  ]
}
