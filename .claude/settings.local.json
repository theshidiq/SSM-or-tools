{
  "permissions": {
    "allow": [
      "Bash(lsof:*)",
      "Bash(curl:*)",
      "Bash(node delete-all-priority-rules.js:*)",
      "Bash(xargs kill:*)",
      "Read(//private/tmp/**)",
      "Bash(for i in {1..8})",
      "Bash(do echo \"export { SurveySection$i } from ''./SurveySections'';\")",
      "Bash(SurveySection$i.jsx)",
      "Bash(done)",
      "Bash(npm install:*)",
      "Bash(npm start)",
      "mcp__chrome-devtools__navigate_page",
      "mcp__chrome-devtools__list_pages",
      "mcp__chrome-devtools__list_console_messages",
      "mcp__chrome-devtools__get_console_message",
      "mcp__chrome-devtools__take_snapshot",
      "mcp__chrome-devtools__click",
      "Bash(brew install:*)",
      "Bash(chmod:*)",
      "Bash(go vet:*)",
      "Bash(timeout 3:*)",
      "Bash(go build:*)",
      "mcp__supabase__execute_sql",
      "Bash(cat:*)",
      "Bash(node /tmp/check-priority-rules.js:*)",
      "Bash(open:*)",
      "mcp__chrome-devtools__select_page",
      "mcp__chrome-devtools__evaluate_script",
      "Bash(go run:*)",
      "mcp__chrome-devtools__take_screenshot",
      "mcp__chrome-devtools__new_page",
      "mcp__supabase__list_projects",
      "mcp__chrome-devtools__list_network_requests",
      "Bash(quibbler --version:*)",
      "Bash(xargs ps:*)",
      "mcp__supabase__apply_migration",
      "Bash(npm test:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nFIX: Must_work calendar rules now override all shift types (â–³, â—‡, Ã—)\n\n## Problem\nAI generation was showing early shifts (â–³) on must_work dates (2025-12-31, 2026-01-01, 2026-01-02) instead of ensuring all staff work normal shifts. The must_work logic only converted day offs (Ã—) to normal shifts, but didn''t handle early shifts (â–³) or late shifts (â—‡).\n\n## Root Cause\nCalendarEarlyShiftIntegrator.js:117 only checked for day offs:\n- Previous: `if (currentShift === \"Ã—\" || currentShift === undefined)`\n- This allowed early shift eligibility rules to assign â–³ on must_work dates\n\n## Solution\nUpdated must_work logic to override ALL shift types:\n- Now checks: `if (currentShift === \"Ã—\" || currentShift === \"â–³\" || currentShift === \"â—‡\" || currentShift === undefined)`\n- Converts all shift types to normal shift (\"\") on must_work dates\n- Added clarifying comments explaining override behavior\n\n## Changes\n- src/ai/utils/CalendarEarlyShiftIntegrator.js:105-132\n  - Line 118: Check for all non-normal shift types (Ã—, â–³, â—‡, undefined)\n  - Lines 116-117: Added comments explaining override behavior\n  - Line 128: Updated reason message for clarity\n\n## Testing\nSince Phase 3 integration runs LAST in BusinessRuleValidator.js:1121-1142, this ensures must_work rules override all earlier business rules (work limits, early shift preferences, etc.)\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git push)"
    ],
    "deny": [],
    "ask": []
  },
  "enableAllProjectMcpServers": true,
  "enabledMcpjsonServers": [
    "shadcn"
  ]
}
